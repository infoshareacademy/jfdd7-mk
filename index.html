<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <title>Gdzie poćwiczę?</title>
    <link rel="stylesheet" type="text/css" href="style/style.css">
    <link href="https://fonts.googleapis.com/css?family=Francois+One|Ubuntu+Condensed" rel="stylesheet">
    <meta name="viewport" content="wdth=device-width, initial-scale=1">
<body>
<div id="gora"></div>
<header id="home" class="main-header">
    <a href="#gora" class="logo container"><img src="images/logo-nowe.png"> </a>
    <nav class="main-menu">
        <ul class="menu">
            <li><a href="#gora">HOME</a></li>
            <li><a href="#funkcjonalnosci">O APLIKACJI</a></li>
            <li><a href="#dolacz-do-nas">DOŁĄCZ DO NAS</a></li>
            <li><a href="#o-nas">O NAS</a></li>
        </ul>
    </nav>
    <div class="clear"></div>
</header>
<main>
    <header class="zajawka">
        <figure class="phone"></figure>
        <figure class="woman"></figure>
        <div class="header-zajawka">
            <div><h1>Nie wiesz gdzie poćwiczyć?</h1></div>
            <div><h2>Dzięki naszej aplikacji nigdy nie zabraknie Ci miejsc ani pomysłów na trening!</h2></div>
        </div>
    </header>
    <section id="funkcjonalnosci">
        <ul class="funkcjonalnosci">
            <li class="funkcja-mapa revealed">Mapa obiektów niedaleko Ciebie</li>
            <li class="funkcja-info-o-obiekcie revealed">Szczegółowe informacje o porządanym przez Ciebie miejscu</li>
            <li class="funkcja-trener revealed">Znajdź z nami swojego trenera</li>
            <li class="funkcja-plan revealed">Wolisz sam? Znajdź odpowiedni plan treningowy u nas</li>
        </ul>
    </section>
    <section class="przerywnik">
        <div></div>
    </section>
    <section id="dolacz-do-nas" class="dolacz-do-nas">
        <h1>Chcesz zacząć ćwiczyć razem z nami?</h1>
        <h2>Wypełnij formularz, aby dowiedzieć się więcej o naszej aplikacji!</h2>
        <form target="_blank" action="https://formspree.io/gdziepocwicze@gmail.com" method="post">
            <fieldset>
                <input class="input-email" type="email" name="email" placeholder="mail@mail.com" required="required">
                <input class="button submit" type="submit" name="submit" value="Wyślij">
            </fieldset>
            <small>Twój email jest u nas bezpieczny. Gwarantujemy, że po dołączeniu do naszej aplikacji,
                otrzymasz jeden mail z informacją o dacie jej premiery.
            </small>

        </form>
    </section>
    <div id="game" class="game">
        <div class="cover translucent"></div>
        <div id="button-start" class="button-start">Start</div>
        <div class="hero"></div>
        <div class="jump"></div>
        <div class="shadow"></div>
        <div class="success"></div>
        <div class="game-over"> game over </div>
    </div>
    <div class="legend">
        <h1>Legenda</h1>
        <p>Omijaj przeszkody! Naciśnij spację lub strzałke w górę by skakać (poprostu dotknij na ekranie dotykowym) </p>
    </div>
    <div class="nad-sekcja-o-nas">
    </div>

    <section id="o-nas" class="o-nas">
        <h1 class="o-teamie-naglowek">O nas</h1>
        <ul>
            <li class="informacje-o-dominice">Dominika Kosiedowska</li>
            <li class="informacje-o-michale-p">Michał Pokojski</li>
            <li class="informacje-o-adamie">Adam Kowalski</li>
            <li class="informacje-o-michale-k">Michał Kolasiński</li>
        </ul>
    </section>
</main>
<footer>
    <div class="logo-stopki"></div>
    <div class="wszelakie-wszelakosci-stopkowe">
        <div class="copyright">Wszelkie prawa zastrzeżone © 2017 I|I</div>
        <a href="mailto:gdzie.pocwicze@gmail.com" class="mail-stopka">Napisz do nas !</a>
    </div>
</footer>
<script src="jquery-3.2.1.min.js"></script>
<script src="scrollreveal.min.js"></script>

<script>
    $(document).ready(function () {

        $('a[href^="#"]').on('click', function (event) {

            var target = $($(this).attr('href'));

            if (target.length) {
                event.preventDefault();
                $('html, body').animate({
                    scrollTop: target.offset().top
                }, 650);
            }
        });

        $('form').on('submit', function () {
            $('#dolacz-do-nas').slideUp();
            $('#game').removeClass('hidden');
        });

        var gra = function () {
            this.idGry = 0;
            this.naZiemi = true;
            this.opoznienieStartu = 500;
            this.czasGry = 15000;
            this.predkoscPrzewijania = 10;

            this.startGry = function () {
                var x = 0;
                var self = this;
                $('.hero, .shadow').show();
                $('div.cover').removeClass('translucent').addClass('transparent');
                $('div.button-start').remove();
                setTimeout(function () {
                    self.idGry = setInterval(function () {
                        x -= 1;
                        $('.game').css('background-position', x + 'px 0');
                    }, self.predkoscPrzewijania);

                    setTimeout(function () {
                        self.koniecGry()
                    }, self.czasGry);
                }, this.opoznienieStartu);
            };

            this.koniecGry = function () {
                clearInterval(this.idGry);
                if(this.czasGry) {
                    this.koniecGry = true;
                    $("div.cover").removeClass('transparent').addClass('translucent').addClass('cover-final');
                    $("div.success").slideDown(2000);
                }
                else {
                    $("div.cover").removeClass('transparent').addClass('translucent').addClass('cover-final');
                    $("div.game-over").slideDown(2000);
                }
                };

            this.skokGracza = function () {
                var skok = '150px';
                var self = this;
                if (this.naZiemi && this.idGry > 0) {
                    this.naZiemi = false;
                    $(".hero").hide(0);
                    $('.jump').show(0);

                    $(".jump").animate({top: '-=' + skok}, 200, function () {
                        $(this).animate({top: '+=' + skok}, 200, function () {
                            self.naZiemi = true;
                            $(".hero").show(0);
                            $('.jump').hide(0);

                        })
                    });
                }
            };

                    }
                };

            this.init = function () {
                var self = this;
                $(document).on('click', '.button-start', function () {
                    self.startGry();
                });
                $(document).on('keydown', function (event) {
                    if (event.keyCode === 38 || event.keyCode === 32) {
                        self.skokGracza();
                        event.preventDefault();
                    }
                });
                $(document).on('mousedown', function(){
                    self.skokGracza();
                })


            };

            this.init();
        };
        var nowaGra = new gra();


    });
    // przewija do odpowiedniej sekcji

     //parallax
    //    start gry
    $('#button-start').click(function () {
        $('div.cover').addClass('transparent').removeClass('translucent');
        $('div.button-start').remove();
    });
    //parallax
    //parallax
    $(window).scroll(function () {
        var phone=$(".phone");
        var offset=$(this).scrollTop();
        phone.css("background-position-y",offset/1.9);});
    $(window).scroll(function () {
        var woman=$(".woman");
        var offset=$(this).scrollTop();
        woman.css("background-position-y",offset/1.7);});

    // pojawianie się elementow na stronie

    window.sr = ScrollReveal();
    sr.reveal('.revealed', {
        reset: false,
        delay: 500,
        rotate: {x: 65, y: 65},
        scale: 0.5,
        duration: 500,
        origin: "bottom"
    });


</script>
</body>
</html>

